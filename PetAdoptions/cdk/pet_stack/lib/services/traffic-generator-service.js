"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TrafficGeneratorService = void 0;
const ecs = require("aws-cdk-lib/aws-ecs");
const aws_ecr_assets_1 = require("aws-cdk-lib/aws-ecr-assets");
const ecs_service_1 = require("./ecs-service");
class TrafficGeneratorService extends ecs_service_1.EcsService {
    constructor(scope, id, props) {
        super(scope, id, props);
    }
    containerImageFromRepository(repositoryURI) {
        return ecs.ContainerImage.fromRegistry(`${repositoryURI}/pet-trafficgenerator:latest`);
    }
    createContainerImage() {
        return ecs.ContainerImage.fromDockerImageAsset(new aws_ecr_assets_1.DockerImageAsset(this, "traffic-generator", {
            directory: "./resources/microservices/trafficgenerator/trafficgenerator"
        }));
    }
}
exports.TrafficGeneratorService = TrafficGeneratorService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhZmZpYy1nZW5lcmF0b3Itc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRyYWZmaWMtZ2VuZXJhdG9yLXNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkNBQTJDO0FBQzNDLCtEQUE4RDtBQUM5RCwrQ0FBMkQ7QUFHM0QsTUFBYSx1QkFBd0IsU0FBUSx3QkFBVTtJQUVyRCxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQXNCO1FBQzlELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCw0QkFBNEIsQ0FBQyxhQUFxQjtRQUNoRCxPQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLEdBQUcsYUFBYSw4QkFBOEIsQ0FBQyxDQUFBO0lBQ3hGLENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsT0FBTyxHQUFHLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLElBQUksaUNBQWdCLENBQUMsSUFBSSxFQUFFLG1CQUFtQixFQUFFO1lBQzdGLFNBQVMsRUFBRSw2REFBNkQ7U0FDekUsQ0FBQyxDQUFDLENBQUE7SUFDTCxDQUFDO0NBQ0Y7QUFmRCwwREFlQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGVjcyBmcm9tICdhd3MtY2RrLWxpYi9hd3MtZWNzJztcbmltcG9ydCB7IERvY2tlckltYWdlQXNzZXQgfSBmcm9tICdhd3MtY2RrLWxpYi9hd3MtZWNyLWFzc2V0cyc7XG5pbXBvcnQgeyBFY3NTZXJ2aWNlLCBFY3NTZXJ2aWNlUHJvcHMgfSBmcm9tICcuL2Vjcy1zZXJ2aWNlJ1xuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cydcblxuZXhwb3J0IGNsYXNzIFRyYWZmaWNHZW5lcmF0b3JTZXJ2aWNlIGV4dGVuZHMgRWNzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3Ioc2NvcGU6IENvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IEVjc1NlcnZpY2VQcm9wcyAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIGlkLCBwcm9wcyk7XG4gIH1cblxuICBjb250YWluZXJJbWFnZUZyb21SZXBvc2l0b3J5KHJlcG9zaXRvcnlVUkk6IHN0cmluZykgOiBlY3MuQ29udGFpbmVySW1hZ2Uge1xuICAgIHJldHVybiBlY3MuQ29udGFpbmVySW1hZ2UuZnJvbVJlZ2lzdHJ5KGAke3JlcG9zaXRvcnlVUkl9L3BldC10cmFmZmljZ2VuZXJhdG9yOmxhdGVzdGApXG4gIH1cblxuICBjcmVhdGVDb250YWluZXJJbWFnZSgpIDogZWNzLkNvbnRhaW5lckltYWdlIHtcbiAgICByZXR1cm4gZWNzLkNvbnRhaW5lckltYWdlLmZyb21Eb2NrZXJJbWFnZUFzc2V0KG5ldyBEb2NrZXJJbWFnZUFzc2V0KHRoaXMsIFwidHJhZmZpYy1nZW5lcmF0b3JcIiwge1xuICAgICAgZGlyZWN0b3J5OiBcIi4vcmVzb3VyY2VzL21pY3Jvc2VydmljZXMvdHJhZmZpY2dlbmVyYXRvci90cmFmZmljZ2VuZXJhdG9yXCJcbiAgICB9KSlcbiAgfVxufVxuIl19